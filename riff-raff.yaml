stacks:
  - membership
regions:
  - eu-west-1
allowedStages:
  - CODE
  - PROD
deployments:
  manage-help-content-publisher-cloudformation:
    type: cdk
    app: manage-help-content-publisher
    parameters:
      templateStagePaths:
        CODE: ManageHelpContentPublisher-CODE.template.json
        PROD: ManageHelpContentPublisher-PROD.template.json

  manage-help-content-publisher:
    type: aws-lambda
    parameters:
      fileName: manage-help-content-publisher.jar
      bucketSsmLookup: true
      prefixStack: false
      functionNames:
        - manage-help-content-publisher-
        - manage-help-content-publisher-takedown-
    dependencies: [manage-help-content-publisher-cloudformation]
